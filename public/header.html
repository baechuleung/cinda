<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>밤다</title>
    <link rel="stylesheet" href="/css/header.css">
</head>
<body>
    <header>
        <nav id="mainNav">
            <a href="/main/main.html" id="logoLink" style="display: none;">
                <img src="/img/logo.png" alt="CINDA" class="logo" id="headerLogo">
            </a>
            
            <!-- 뒤로가기 버튼 (기본적으로 표시) -->
            <button class="back-button" id="backButton" onclick="goBack()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15 18L9 12L15 6" stroke="#333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
            
            <!-- 햄버거 메뉴 버튼 -->
            <button class="hamburger-menu" id="hamburgerMenu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <!-- 메뉴 오버레이 -->
            <div class="menu-overlay" id="menuOverlay"></div>
            
            <!-- 메뉴 리스트 -->
            <ul id="navMenu">
                <!-- 메뉴 헤더 영역 -->
                <div class="menu-header">
                    <div class="user-info">
                        <div class="user-icon">🌙</div>
                        <div class="user-details">
                            <span class="user-status">일반회원</span>
                            <div class="user-name">뺏츠한 뚝배기</div>
                        </div>
                        <a href="/mypage/mypage.html" class="my-page-btn">마이페이지</a>
                    </div>
                </div>
                
                <!-- 홈으로가기 메뉴 추가 -->
                <div class="menu-section home-section">
                    <li><a href="/main/main.html"><svg class="home-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M9 22V12H15V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>홈으로가기 <span class="arrow">›</span></a></li>
                </div>
                
                <!-- 밤다 서비스 섹션 -->
                <div class="menu-section">
                    <h3 class="menu-section-title">밤다 서비스</h3>
                    <li><a href="/job/job-list.html">채용정보 <span class="arrow">›</span></a></li>
                    <li><a href="/tc-calculate/simple-tc.html">반티완티<span class="arrow">›</span></a></li>                    
                    <li><a href="/partner/partner-list.html">제휴서비스 <span class="arrow">›</span></a></li>
                    <li><a href="/fortune/fortune.html">오늘의운세 <span class="arrow">›</span></a></li>
                    <li class="advertise-menu" style="display: none;">
                        <a href="/ad-business/ad-list.html">
                            공고관리 
                            <span class="business-badge">업소회원전용</span>
                            <span class="arrow">›</span>
                        </a>
                    </li>
                    <li class="partner-menu" style="display: none;">
                        <a href="/ad-partner/ad-management.html">
                            제휴관리 
                            <span class="partner-badge">제휴업체전용</span>
                            <span class="arrow">›</span>
                        </a>
                    </li>
                </div>
                
                <!-- 고객센터 섹션 -->
                <div class="menu-section">
                    <h3 class="menu-section-title">고객센터</h3>
                    <li><a href="#">1:1 고객센터 <span class="arrow">›</span></a></li>
                    <li><a href="#">FAQ <span class="arrow">›</span></a></li>
                </div>
                
                <!-- 밤의 다이어리 섹션 -->
                <div class="menu-section">
                    <h3 class="menu-section-title">밤의 다이어리</h3>
                    <li><a href="#">공지사항 <span class="arrow">›</span></a></li>
                    <li><a href="#">이벤트 <span class="arrow">›</span></a></li>
                    <li><a href="#">약관 및 정책 <span class="arrow">›</span></a></li>
                </div>
                
                <!-- 관리자 메뉴 (조건부 표시) -->
                <li class="admin-menu" style="display: none;"><a href="/admin/realtime-status/html/list.html">관리자 <span class="arrow">›</span></a></li>
                <li class="logout-menu" style="display: none;"><a href="#" onclick="handleLogout()">로그아웃 <span class="arrow">›</span></a></li>
            </ul>
        </nav>
    </header>
    
    <!-- 광고 배너 영역 (header 밖으로 분리) -->
    <div class="ad-banner-wrapper-container">
        <div class="ad-banner-section">
            <button class="slide-btn prev" onclick="slideAds('prev')">‹</button>
            <div class="ad-banner-container">
                <div class="ad-banner-wrapper">
                    <!-- 동적으로 생성될 광고 배너들 -->
                </div>
            </div>
            <button class="slide-btn next" onclick="slideAds('next')">›</button>
        </div>
    </div>
    
    <script>
        // 즉시 실행되는 인라인 스크립트로 로고 설정
        (function() {
            if (window.innerWidth <= 768) {
                document.getElementById('headerLogo').src = '/img/m_logo.png';
            }
        })();
        
        // 절대 경로로 스크립트 동적 로드
        const origin = window.location.origin;
        
        // Firebase config 로드
        const firebaseScript = document.createElement('script');
        firebaseScript.type = 'module';
        firebaseScript.src = origin + '/js/firebase-config.js';
        document.body.appendChild(firebaseScript);
        
        // Header.js 로드 (광고 슬라이드 기능 포함)
        const headerScript = document.createElement('script');
        headerScript.type = 'module';
        headerScript.src = origin + '/js/header.js';
        document.body.appendChild(headerScript);
    </script>
</body>
</html>