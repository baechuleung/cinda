<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게시글 - 신다 수다방</title>
    
    <!-- 헤더 CSS 먼저 로드 -->
    <link rel="stylesheet" href="/css/header.css">
    
    <!-- SEO 태그는 seo-manager.js가 동적으로 삽입 -->
    <script type="module" src="/js/seo-manager.js"></script>
    
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="../css/view.css">
    
    <!-- 전역 설정 스크립트 -->
    <script src="/js/config.js"></script>
</head>
<body>
    <!-- 메인 헤더 포함 -->
    <div id="header-container"></div>
    
    <div class="community-container">
        <!-- 커뮤니티 헤더 -->
        <div class="community-header">
            <h1>신다 수다방</h1>
            <p class="subtitle">함께 나누는 이야기, 함께 만드는 커뮤니티</p>
        </div>
        
        <!-- 게시글 내용 -->
        <div class="post-container">
            <div class="post-header">
                <div class="post-top-line">
                    <span class="post-number" id="postNumber">NO.1</span>
                    <button class="report-btn" onclick="reportPost()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M2.66536 12.6667H13.332V11.3333H2.66536V12.6667ZM6.66536 6.66667C6.66536 6.3 6.79592 5.98611 7.05703 5.725C7.31814 5.46389 7.63203 5.33333 7.9987 5.33333C8.18759 5.33333 8.34592 5.26944 8.4737 5.14167C8.60148 5.01389 8.66536 4.85556 8.66536 4.66667C8.66536 4.47778 8.60148 4.31944 8.4737 4.19167C8.34592 4.06389 8.18759 4 7.9987 4C7.26536 4 6.63759 4.26111 6.11536 4.78333C5.59314 5.30556 5.33203 5.93333 5.33203 6.66667V8C5.33203 8.18889 5.39592 8.34722 5.5237 8.475C5.65148 8.60278 5.80981 8.66667 5.9987 8.66667C6.18759 8.66667 6.34592 8.60278 6.4737 8.475C6.60148 8.34722 6.66536 8.18889 6.66536 8V6.66667ZM4.66536 10H11.332V6.66667C11.332 5.74444 11.007 4.95833 10.357 4.30833C9.70703 3.65833 8.92092 3.33333 7.9987 3.33333C7.07648 3.33333 6.29036 3.65833 5.64036 4.30833C4.99036 4.95833 4.66536 5.74444 4.66536 6.66667V10ZM2.66536 14C2.2987 14 1.98481 13.8694 1.7237 13.6083C1.46259 13.3472 1.33203 13.0333 1.33203 12.6667V11.3333C1.33203 10.9667 1.46259 10.6528 1.7237 10.3917C1.98481 10.1306 2.2987 10 2.66536 10H3.33203V6.66667C3.33203 5.36667 3.78481 4.26389 4.69036 3.35833C5.59592 2.45278 6.6987 2 7.9987 2C9.2987 2 10.4015 2.45278 11.307 3.35833C12.2126 4.26389 12.6654 5.36667 12.6654 6.66667V10H13.332C13.6987 10 14.0126 10.1306 14.2737 10.3917C14.5348 10.6528 14.6654 10.9667 14.6654 11.3333V12.6667C14.6654 13.0333 14.5348 13.3472 14.2737 13.6083C14.0126 13.8694 13.6987 14 13.332 14H2.66536Z" fill="#999999"/>
                        </svg>
                        신고하기
                    </button>
                </div>
                <div class="post-title-line">
                    <h2 id="postTitle">게시글 제목</h2>
                    <span class="post-author" id="postAuthor">작성자</span>
                </div>
                <div class="post-info-line">
                    <div class="post-stats">
                        <span class="stat-item">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                            <span id="postViews">0</span>
                        </span>
                        <span class="stat-item">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                            </svg>
                            <span id="postLikes">0</span>
                        </span>
                        <span class="stat-item">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                            </svg>
                            <span id="postComments">0</span>
                        </span>
                    </div>
                    <span class="post-date" id="postDate">2025-01-01</span>
                </div>
            </div>
            
            <div class="post-content" id="postContent">
                <!-- 게시글 내용이 표시됩니다 -->
            </div>
            
            <div class="post-images" id="postImages">
                <!-- 첨부 이미지가 표시됩니다 -->
            </div>
            
            <!-- 좋아요 섹션 -->
            <div class="post-reactions">
                <button class="reaction-btn like-btn" id="likeBtn" onclick="handleLike()">
                    <svg class="reaction-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                    <span class="reaction-text">좋아요</span>
                    <span class="reaction-count" id="likeCount">0</span>
                </button>
            </div>
            
            <div class="post-actions">
                <button class="list-btn" onclick="location.href='list.html'">목록</button>
                <div class="right-actions">
                    <button class="edit-btn" id="editBtn" style="display: none;">수정</button>
                    <button class="delete-btn" id="deleteBtn" style="display: none;">삭제</button>
                </div>
            </div>
        </div>
        
        <!-- 댓글 영역 -->
        <div class="comment-container">
            <h3>댓글 <span id="commentCount">0</span></h3>
            
            <div class="comment-write">
                <input type="text" id="commentInput" placeholder="건강한 소통을 위한 따뜻한 댓글을 남겨주세요." />
                <div class="comment-write-actions">
                    <button id="commentSubmit" class="comment-submit-btn">댓글 등록</button>
                </div>
            </div>
            
            <div class="comment-list" id="commentList">
                <!-- 댓글이 동적으로 추가됩니다 -->
            </div>
        </div>
    </div>
    
    <!-- Footer 포함 -->
    <div id="footer-container"></div>

    <script type="module" src="/js/firebase-config.js"></script>
    <script type="module" src="../js/view.js"></script>
    <script src="/js/footer.js"></script>
    <script>
        // 메인 헤더 로드
        loadHeader('header-container');
    </script>
</body>
</html>