<!-- 파일경로: /job/job-detail.html -->
<!-- 파일이름: job-detail.html -->

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>채용정보 상세 - CINDA</title>
    
    <!-- 헤더 CSS 먼저 로드 -->
    <link rel="stylesheet" href="/css/header.css">
    
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="css/job-detail.css">
    
    <!-- 전역 설정 스크립트 -->
    <script src="/js/config.js"></script>
</head>
<body>
    <!-- 메인 헤더 포함 -->
    <div id="header-container"></div>
    
    <div class="job-container">
        <!-- 업체 정보 섹션 (리스트와 동일) -->
        <div class="job-cards-container">
            <div class="business-info-section">
                <!-- 업체 이미지 -->
                <div class="business-image-wrapper">
                    <div class="business-image" id="businessImage"></div>
                </div>
                
                <!-- 정보 영역 -->
                <div class="business-info-wrapper">
                    <!-- 첫 번째 줄: 담당자명, 지역 -->
                    <div class="info-first-line">
                        <span class="contact-name" id="contactNameTop"></span>
                        <span class="region-tag" id="regionTag"></span>
                    </div>
                    
                    <!-- 두 번째 줄: 업체명 - 업종 -->
                    <div class="info-second-line" id="businessNameType"></div>
                    
                    <!-- 세 번째 줄: 급여 정보 -->
                    <div class="info-third-line">
                        <span class="salary-type" id="salaryTypeTop"></span>
                        <span class="salary-amount" id="salaryAmountTop"></span>
                    </div>
                </div>
                
                <!-- 아이콘 영역 -->
                <div class="icon-section">
                    <button class="icon-btn thumb-btn" id="recommendBtn">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7 22V11M2 13V20C2 21.1046 2.89543 22 4 22H17.4262C18.907 22 20.1662 20.9197 20.3914 19.4562L21.4416 12.4562C21.7362 10.5389 20.2858 8.7 18.3514 8.7H14V4C14 2.89543 13.1046 2 12 2C11.4477 2 11 2.44772 11 3V4.2C11 4.77565 10.8189 5.33708 10.4803 5.80806L7.5 9.8V11" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-btn heart-btn" id="favoriteBtn">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <button class="icon-btn share-btn" id="shareBtn">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18 8C19.6569 8 21 6.65685 21 5C21 3.34315 19.6569 2 18 2C16.3431 2 15 3.34315 15 5C15 5.12548 15.0077 5.24917 15.0227 5.37061L7.08261 9.34064C6.54305 8.52348 5.59034 8 4.5 8C2.84315 8 1.5 9.34315 1.5 11C1.5 12.6569 2.84315 14 4.5 14C5.59034 14 6.54305 13.4765 7.08261 12.6594L15.0227 16.6294C15.0077 16.7508 15 16.8745 15 17C15 18.6569 16.3431 20 18 20C19.6569 20 21 18.6569 21 17C21 15.3431 19.6569 14 18 14C16.9097 14 15.957 14.5235 15.4174 15.3406L7.47734 11.3706C7.49234 11.2492 7.5 11.1255 7.5 11C7.5 10.8745 7.49234 10.7508 7.47734 10.6294L15.4174 6.65936C15.957 7.47652 16.9097 8 18 8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- 구분선 -->
        <div class="section-divider"></div>
        
        <!-- 채용 정보 섹션 -->
        <div class="job-section">
            <h2 class="section-title">채용정보</h2>
            
            <div class="info-item">
                <span class="info-label">근무시간</span>
                <div class="work-time-list" id="workTimeList"></div>
            </div>
            
            <div class="info-item">
                <span class="info-label">복지</span>
                <div class="welfare-tags" id="welfareTags"></div>
            </div>
        </div>
        
        <!-- 구분선 -->
        <div class="section-divider"></div>
        
        <!-- 상세 내용 섹션 -->
        <div class="detail-section">
            <h2 class="section-title">상세내용</h2>
            <div class="detail-content" id="detailContent"></div>
        </div>
        
        <!-- 상세 이미지 (전체화면) -->
        <div class="detail-image-full" id="detailImageContainer" style="display: none;">
            <img class="detail-image" id="detailImage" alt="상세 이미지">
        </div>
        
        <!-- 문의하기 버튼 -->
        <div class="action-buttons">
            <div class="contact-buttons">
                <!-- 카카오톡 -->
                <button class="contact-icon-btn" id="kakaoBtn" style="display: none;">
                    <img src="/img/contact/kakao.png" alt="카카오톡">
                </button>
                <!-- 텔레그램 -->
                <button class="contact-icon-btn" id="telegramBtn" style="display: none;">
                    <img src="/img/contact/telegram.png" alt="텔레그램">
                </button>
                <!-- 전화 -->
                <button class="contact-icon-btn" id="phoneBtn">
                    <img src="/img/contact/phone.png" alt="전화">
                </button>
            </div>
        </div>
    </div>

    <!-- Footer 포함 -->
    <div id="footer-container"></div>

    <!-- Firebase -->
    <script type="module" src="/js/firebase-config.js"></script>
    <!-- 채용정보 상세 스크립트 -->
    <script type="module" src="js/job-detail.js"></script>
    <script src="/js/footer.js"></script>
    <script>
        // 메인 헤더 로드 후 페이지 타이틀 설정
        loadHeader('header-container');
        
        // 페이지 타이틀 설정을 위한 전역 변수
        window.pageTitle = '채용정보 상세';
        
        // DOM 로드 후 페이지 타이틀 추가
        document.addEventListener('DOMContentLoaded', function() {
            // header.js가 로드되기를 기다림
            const checkInterval = setInterval(function() {
                const backButton = document.querySelector('.back-button');
                const hamburgerMenu = document.querySelector('.hamburger-menu');
                
                if (backButton && hamburgerMenu && !document.querySelector('.page-title')) {
                    // 페이지 타이틀 요소 생성
                    const pageTitle = document.createElement('h1');
                    pageTitle.className = 'page-title';
                    pageTitle.textContent = window.pageTitle || '채용정보 상세';
                    
                    // 뒤로가기 버튼과 햄버거 메뉴 사이에 삽입
                    backButton.parentNode.insertBefore(pageTitle, hamburgerMenu);
                    
                    clearInterval(checkInterval);
                }
            }, 100);
            
            // 5초 후에는 체크 중지
            setTimeout(() => clearInterval(checkInterval), 5000);
        });
    </script>
</body>
</html>